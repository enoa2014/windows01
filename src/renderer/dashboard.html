<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>概览仪表板 - 患儿入住信息管理系统</title>
    
    <!-- Core Styles -->
    <link rel="stylesheet" href="styles/medical-design-system.css">
    <link rel="stylesheet" href="styles/icon-system.css">
    <link rel="stylesheet" href="styles/modern-cards.css">
    <link rel="stylesheet" href="styles/responsive-layout.css">
    
    <!-- Dashboard Specific Styles -->
    <style>
        /* Dashboard Layout */
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem;
            background: var(--bg-primary);
        }

        .dashboard-header {
            background: var(--bg-secondary);
            border-radius: var(--radius-2xl);
            box-shadow: var(--shadow-sm);
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--medical-primary-500), var(--medical-secondary-500));
        }

        .dashboard-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .dashboard-subtitle {
            font-size: 1.125rem;
            color: var(--text-secondary);
            margin: 0;
        }

        .dashboard-actions {
            position: absolute;
            top: 2rem;
            right: 2rem;
            display: flex;
            gap: 0.75rem;
        }

        .dashboard-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            border-radius: var(--radius-lg);
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
            text-decoration: none;
        }

        .dashboard-btn.primary {
            background: linear-gradient(135deg, var(--medical-primary-500), var(--medical-primary-600));
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .dashboard-btn.primary:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .dashboard-btn.secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .dashboard-btn.secondary:hover {
            background: var(--bg-tertiary);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            padding: 2rem;
            position: relative;
            overflow: hidden;
            transition: all 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card-icon {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            width: 3rem;
            height: 3rem;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.8;
        }

        .stat-card-icon.teal { background: rgba(20, 184, 166, 0.1); color: var(--medical-secondary-500); }
        .stat-card-icon.blue { background: rgba(59, 130, 246, 0.1); color: var(--medical-info-500); }
        .stat-card-icon.green { background: rgba(16, 185, 129, 0.1); color: var(--medical-success-500); }
        .stat-card-icon.purple { background: rgba(139, 92, 246, 0.1); color: #8b5cf6; }

        .stat-card-number {
            font-size: 3rem;
            font-weight: 700;
            line-height: 1;
            margin-bottom: 0.5rem;
        }

        .stat-card-number.teal { color: var(--medical-secondary-500); }
        .stat-card-number.blue { color: var(--medical-info-500); }
        .stat-card-number.green { color: var(--medical-success-500); }
        .stat-card-number.purple { color: #8b5cf6; }

        .stat-card-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 0.75rem;
        }

        .stat-card-trend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .stat-card-trend.positive { color: var(--medical-success-500); }
        .stat-card-trend.negative { color: var(--medical-error-500); }
        .stat-card-trend.neutral { color: var(--text-secondary); }

        /* Charts Grid */
        .charts-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }

        .chart-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chart-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-controls {
            display: flex;
            gap: 0.5rem;
        }

        .chart-control-btn {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 0.5rem;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chart-control-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .chart-control-btn.active {
            background: var(--medical-primary-500);
            color: white;
            border-color: var(--medical-primary-500);
        }

        .chart-body {
            padding: 2rem;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chart-placeholder {
            text-align: center;
            color: var(--text-secondary);
        }

        .chart-placeholder svg {
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Recent Activity */
        .activity-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .activity-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }

        .activity-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border-color);
            background: linear-gradient(135deg, #f0fdfa, #ecfdf5);
        }

        .activity-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .activity-body {
            padding: 1.5rem 2rem;
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 2rem;
            height: 2rem;
            border-radius: var(--radius-full);
            background: var(--medical-primary-100);
            color: var(--medical-primary-500);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .activity-content {
            flex: 1;
        }

        .activity-text {
            font-size: 0.875rem;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
            line-height: 1.5;
        }

        .activity-meta {
            font-size: 0.75rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .dashboard-actions {
                position: static;
                margin-top: 1.5rem;
                justify-content: flex-start;
            }
        }

        @media (max-width: 768px) {
            .dashboard-container {
                padding: 1rem;
            }
            
            .dashboard-header {
                padding: 1.5rem;
            }
            
            .dashboard-title {
                font-size: 2rem;
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .activity-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading States */
        .loading-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div>
                <h1 class="dashboard-title">
                    <svg class="icon-xl" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                        <path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"/>
                    </svg>
                    概览仪表板
                </h1>
                <p class="dashboard-subtitle">患儿入住信息统计与数据分析</p>
            </div>
            
            <div class="dashboard-actions">
                <a href="index.html" class="dashboard-btn secondary">
                    <svg class="icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9,22 9,12 15,12 15,22"/>
                    </svg>
                    返回主页
                </a>
                <button class="dashboard-btn primary" id="refresh-dashboard">
                    <svg class="icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                        <path d="M21 3v5h-5"/>
                        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                        <path d="M3 21v-5h5"/>
                    </svg>
                    刷新数据
                </button>
            </div>
        </header>

        <!-- Statistics Cards -->
        <section class="stats-grid">
            <div class="stat-card">
                <div class="stat-card-icon teal">
                    <svg class="icon-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                </div>
                <div class="stat-card-number teal" id="total-patients">-</div>
                <div class="stat-card-label">患儿总数</div>
                <div class="stat-card-trend" id="patients-trend">
                    <svg class="icon-xs" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                        <polyline points="17,6 23,6 23,12"/>
                    </svg>
                    与上月相比
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-icon blue">
                    <svg class="icon-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14,2 14,8 20,8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10,9 9,9 8,9"/>
                    </svg>
                </div>
                <div class="stat-card-number blue" id="new-admissions">-</div>
                <div class="stat-card-label">本月新增</div>
                <div class="stat-card-trend" id="admissions-trend">
                    <svg class="icon-xs" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="23,6 13.5,15.5 8.5,10.5 1,18"/>
                        <polyline points="17,6 23,6 23,12"/>
                    </svg>
                    较上月增长
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-icon green">
                    <svg class="icon-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22,4 12,14.01 9,11.01"/>
                    </svg>
                </div>
                <div class="stat-card-number green" id="discharged-patients">-</div>
                <div class="stat-card-label">本月出院</div>
                <div class="stat-card-trend" id="discharge-trend">
                    <svg class="icon-xs" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="23,18 13.5,8.5 8.5,13.5 1,6"/>
                        <polyline points="17,18 23,18 23,12"/>
                    </svg>
                    出院率
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-icon purple">
                    <svg class="icon-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                    </svg>
                </div>
                <div class="stat-card-number purple" id="average-stay">-</div>
                <div class="stat-card-label">平均住院天数</div>
                <div class="stat-card-trend" id="stay-trend">
                    <svg class="icon-xs" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                    稳定
                </div>
            </div>
        </section>

        <!-- Charts Section -->
        <section class="charts-grid">
            <!-- Main Chart -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
                        </svg>
                        入住趋势分析
                    </h3>
                    <div class="chart-controls">
                        <button class="chart-control-btn active" data-period="7days">7天</button>
                        <button class="chart-control-btn" data-period="30days">30天</button>
                        <button class="chart-control-btn" data-period="90days">90天</button>
                    </div>
                </div>
                <div class="chart-body">
                    <div class="chart-placeholder">
                        <svg class="icon-2xl" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
                        </svg>
                        <p>图表组件加载中...</p>
                        <small>Chart.js 集成开发中</small>
                    </div>
                </div>
            </div>

            <!-- Distribution Chart -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M2 12h20"/>
                        </svg>
                        诊断分布
                    </h3>
                </div>
                <div class="chart-body">
                    <div class="chart-placeholder">
                        <svg class="icon-2xl" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M2 12h20"/>
                        </svg>
                        <p>饼图组件开发中...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recent Activity -->
        <section class="activity-grid">
            <div class="activity-card">
                <div class="activity-header">
                    <h3 class="activity-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                        最近活动
                    </h3>
                </div>
                <div class="activity-body">
                    <div id="recent-activities">
                        <!-- Activities will be loaded by JavaScript -->
                        <div class="activity-item">
                            <div class="activity-icon">
                                <svg class="icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                    <circle cx="9" cy="7" r="4"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <div class="activity-text">新患儿入住: 李小明</div>
                                <div class="activity-meta">
                                    <span>2小时前</span>
                                    <span>•</span>
                                    <span>北京儿童医院</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="activity-card">
                <div class="activity-header">
                    <h3 class="activity-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <line x1="12" y1="1" x2="12" y2="23"/>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                        系统状态
                    </h3>
                </div>
                <div class="activity-body">
                    <div id="system-status">
                        <div class="status-item">
                            <div class="status-indicator status-healthy"></div>
                            <div class="status-content">
                                <div class="status-label">数据库连接</div>
                                <div class="status-value">正常</div>
                            </div>
                        </div>
                        
                        <div class="status-item">
                            <div class="status-indicator status-healthy"></div>
                            <div class="status-content">
                                <div class="status-label">上次数据更新</div>
                                <div class="status-value">刚刚</div>
                            </div>
                        </div>
                        
                        <div class="status-item">
                            <div class="status-indicator status-healthy"></div>
                            <div class="status-content">
                                <div class="status-label">系统版本</div>
                                <div class="status-value">v2.0.0-beta1</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Core JavaScript -->
    <script src="js/icon-library.js"></script>
    <script src="js/dashboard.js"></script>
    
    <!-- Additional Styles for Status -->
    <style>
        .status-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .status-item:last-child {
            border-bottom: none;
        }

        .status-indicator {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: var(--radius-full);
            flex-shrink: 0;
        }

        .status-indicator.status-healthy {
            background: var(--medical-success-500);
            box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2);
        }

        .status-indicator.status-warning {
            background: var(--medical-warning-500);
            box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.2);
        }

        .status-indicator.status-error {
            background: var(--medical-error-500);
            box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.2);
        }

        .status-content {
            flex: 1;
        }

        .status-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.125rem;
        }

        .status-value {
            font-size: 0.875rem;
            color: var(--text-primary);
            font-weight: 500;
        }
    </style>
</body>
</html>