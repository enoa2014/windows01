
<!DOCTYPE html>
<html>
<head>
    <title>Family Service Debug</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>å®¶åº­æœåŠ¡è°ƒè¯•é¡µé¢</h1>
    <div id="status">åŠ è½½ä¸­...</div>
    <div id="data"></div>
    
    <script>
        console.log('Debug script starting...');
        
        // æ£€æŸ¥ electronAPI æ˜¯å¦å¯ç”¨
        if (typeof window.electronAPI === 'undefined') {
            document.getElementById('status').innerHTML = 'âŒ electronAPI æœªå®šä¹‰';
            console.error('electronAPI not defined');
        } else {
            console.log('âœ… electronAPI å¯ç”¨');
            
            // æ£€æŸ¥ familyService API
            if (typeof window.electronAPI.familyService === 'undefined') {
                document.getElementById('status').innerHTML = 'âŒ familyService API æœªå®šä¹‰';
                console.error('familyService API not defined');
            } else {
                console.log('âœ… familyService API å¯ç”¨');
                
                // æµ‹è¯•æ•°æ®åŠ è½½
                async function testDataLoading() {
                    try {
                        document.getElementById('status').innerHTML = 'ğŸ”„ æ­£åœ¨æµ‹è¯•æ•°æ®åŠ è½½...';
                        
                        console.log('æµ‹è¯• getOverviewStats...');
                        const stats = await window.electronAPI.familyService.getOverviewStats();
                        console.log('ç»Ÿè®¡æ•°æ®:', stats);
                        
                        console.log('æµ‹è¯• getRecords...');
                        const records = await window.electronAPI.familyService.getRecords({}, {});
                        console.log('è®°å½•æ•°æ®:', records);
                        
                        document.getElementById('status').innerHTML = `âœ… æ•°æ®åŠ è½½æˆåŠŸ! ç»Ÿè®¡: ${JSON.stringify(stats.overall)}, è®°å½•æ•°: ${records.length}`;
                        document.getElementById('data').innerHTML = `
                            <h2>ç»Ÿè®¡æ•°æ®</h2>
                            <pre>${JSON.stringify(stats, null, 2)}</pre>
                            <h2>è®°å½•æ•°æ® (å‰3æ¡)</h2>
                            <pre>${JSON.stringify(records.slice(0, 3), null, 2)}</pre>
                        `;
                        
                    } catch (error) {
                        console.error('æ•°æ®åŠ è½½å¤±è´¥:', error);
                        document.getElementById('status').innerHTML = `âŒ æ•°æ®åŠ è½½å¤±è´¥: ${error.message}`;
                    }
                }
                
                testDataLoading();
            }
        }
    </script>
</body>
</html>
    